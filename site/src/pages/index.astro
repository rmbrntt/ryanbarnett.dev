---
import Link from '@/components/Link.astro'
import PageHead from '@/components/PageHead.astro'
import Layout from '@/layouts/Layout.astro'
import { getRecentPosts } from '@/lib/data-utils'

const recentPosts = await getRecentPosts(15)
---

<Layout class="max-w-3xl">
  <PageHead slot="head" title="Ryan Barnett" />
  
  <!-- Header -->
  <section class="mb-16">
    <h1 class="text-3xl font-normal mb-6">Ryan Barnett</h1>
    <p class="text-foreground/80 leading-relaxed">
      Previously led developer experience at The Washington Post's Arc XP platform.
      Currently exploring AI agents, developer tools, and what makes engineering organizations effective.
      This is where I write about what I'm learning and building.
    </p>
  </section>

  <!-- Recent Writing -->
  <section>
    <h2 class="text-xl font-normal mb-6">Recent Writing</h2>
    <ul class="space-y-2">
      {recentPosts.map((post) => (
        <li class="flex items-baseline gap-4">
          <time datetime={post.data.date.toISOString()} class="text-sm text-muted-foreground whitespace-nowrap tabular-nums">
            {new Date(post.data.date).toLocaleDateString('en-US', { 
              year: 'numeric',
              month: 'short', 
              day: '2-digit'
            })}
          </time>
          <Link 
            href={`/blog/${post.id}`} 
            class="hover:underline"
          >
            {post.data.title}
          </Link>
        </li>
      ))}
    </ul>
    <div class="mt-8">
      <Link href="/blog" class="text-muted-foreground hover:text-foreground hover:underline">
        View all posts â†’
      </Link>
    </div>
  </section>
</Layout>